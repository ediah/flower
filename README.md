# Model Language Compiler
В папке `test` находятся две группы тестов:

1) `A-unit` -- корректные программы
2) `B-unit` -- программы, содержащие ошибки

Рядом с каждым пунктом из списка ниже стоит пометка о том, какой из тестов покрывает данную функциональность. `B3` означает, что это 3-й тест (`unit3.ml`) из группы `B-unit`.

## Статус
### Синтаксис
#### Условные операторы
- [x] **if - {else}** `[A1, A4, A5, A6]`
- [ ] **case - of**
#### Операторы цикла
- [x] **for** `[A2, A3]`
- [x] **while** `[A4, A5, A6]`
- [ ] **do - while**
- [ ] **for - step - until - do**
#### Операторы перехода
- [x] **break** `[A5]`
- [ ] **continue**
- [x] **goto**
#### Типы данных
- [x] **integer** `[A1, A3, A4, A6, B1-3]`
- [x] **real** `[A3, B3]`
- [x] **string** `[A2, A5, A6, B2, B3]`
- [x] **boolean** `[A1, B3]`
- [x] **struct** `[A8, A9]`
#### Дополнительные операции
- [x] **read** `[A1, A3, A5, A6, B3]`
- [x] **write** `[A1-6, B1, B2]`
- [x] Унарный минус
- [x] Унарный плюс
- [x] % -- остаток от деления `[A1]`
#### Правило вычисления логических выражений
- [ ] "Ленивые" вычисления логических выражений
- [x] Вычисления по обычной схеме

### Контекстные условия
- [x] Любой идентификатор описан и только один раз `[B1, B5]`
- [x] При инициализации типы констант совпадают с типами переменных `[B2]`
- [x] С помощью операторов **read** и **write** можно вводить и выводить значения любых типов, определенных в языке. `[A1, A3, A5, A7]`
- [ ] В операторе цикла с параметром **for - step - until - do** тип выражений и параметра цикла должен быть целочисленным.
- [x] В операторе цикла for типы 1-ого и 3-его выражений произвольные.
- [x] Только логическое выражение может использоваться в условном операторе **if**, в операторах цикла **while**, **for** и **do-while** в качестве условия завершения цикла. `[A1-6, B4]`
- [x] Описанием идентификатора-метки считается ее первое использование в программе. Разные операторы не могут быть помечены одинаковыми метками. Одна и та же метка не может помечать один и тот же оператор более одного раза. Метка может находиться как до, так и после оператора **goto**, задающего переход по этой метке.
- [x] Оператор **break** может встречаться только внутри тела цикла. Появление **break** вне цикла является ошибкой.
- [x] Определения структур находятся в начале программы до описаний переменных. Выделять для имен структур отдельное пространство имен (в этом случае использование перед именем ключевого слова **struct** будет обязательно). `[A8, A9]`
- [x] Допустимые типы полей внутри структуры – простые (**int**, **bool**, **real**, **string**) и составные. `[A9]`
- [x] Использование значений полей структуры в выражениях такое же, как и у переменных того же типа. `[A10]`
- [x] Возможно присваивание структур целиком, причем только для структур одного типа. Эквивалентность типов здесь именная, т.е. определяется именем структуры, а не набором ее полей. `[A9]`
- [ ] Тип выражения и констант вариантов в операторе **case** должен быть целочисленным.
- [x] Тип выражения и совместимость типов операндов в выражении определяются по правилам, приведенным в Таблице №1.

### Таблица №1
|     Операция    |  Тип X  |  Тип Y  | Тип результата |
| --------------- | ------- | ------- | -------------- |
| + − * / %       | int     | int     | int            |
| + − * /         | real    | real    | real           |
| + − * /         | real    | int     | real           |
| + − * /         | int     | real    | real           |
| +               | string  | string  | string         |
| унарные +-      | int     | -       | int            |
| унарные +-      | real    | -       | real           |
| < > <= >= == != | int     | int     | boolean        |
| < > <= >= == != | real    | int     | boolean        |
| < > <= >= == != | int     | real    | boolean        |
| < > <= >= == != | real    | real    | boolean        |
| < > == !=       | string  | string  | boolean        |
| and or          | boolean | boolean | boolean        |
| not             | boolean | -       | boolean        |
| =               | int     | int     | int            |
| =               | int     | real    | int            |
| =               | real    | int     | real           |
| =               | real    | real    | real           |
| =               | string  | string  | string         |
| =               | boolean | boolean | boolean        |

### Правила записи текста программы
- [ ] В любом месте программы, кроме идентификаторов, служебных слов и числовых констант, может находиться произвольное число пробельных литер и комментариев вида 
```/* 〈любые символы, кроме */ 〉 */```
- [x] Пробел в строковой константе считается значащим символом строки.
- [x] Внутри идентификаторов, служебных слов, числовых констант и разделителей, состоящих из нескольких символов, пробельные литеры недопустимы.
- [x] Между идентификаторами, числами и служебными словами должен находиться хотя бы один разделитель текста. Разделитель текста — это пробельная литера, комментарий либо разделитель, определенный в алфавите языка ( * / % + − < > <= >= == != , ; : ( ) ).

## Цели Make
**mlc** (default) -- сборка компилятора.

**check** -- статический анализ **cppcheck** с отчётом.
